
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Testing via the Web Interface Â· Effective Software Testing</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Ham Vocke">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="rest-api-e2e-test.html" />
    
    
    <link rel="prev" href="end-to-end-tests.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Effective Software Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="importance-of-automation.html">
            
                <a href="importance-of-automation.html">
            
                    
                    The Importance of (Test) Automation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="tools-and-libraries.html">
            
                <a href="tools-and-libraries.html">
            
                    
                    Tools and Libraries We'll Look At
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="sample-application.html">
            
                <a href="sample-application.html">
            
                    
                    The Sample Application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="unit-tests.html">
            
                <a href="unit-tests.html">
            
                    
                    Unit Tests
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="test-structure.html">
            
                <a href="test-structure.html">
            
                    
                    Test Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="unit-test-example.html">
            
                <a href="unit-test-example.html">
            
                    
                    Implementing a Unit Test
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="integration-tests.html">
            
                <a href="integration-tests.html">
            
                    
                    Integration Tests
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="database-integration-tests.html">
            
                <a href="database-integration-tests.html">
            
                    
                    Database Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="rest-api-integration-tests.html">
            
                <a href="rest-api-integration-tests.html">
            
                    
                    REST API Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="third-party-integration-tests.html">
            
                <a href="third-party-integration-tests.html">
            
                    
                    Integration With Third-Party Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="json-parsing-integration-tests.html">
            
                <a href="json-parsing-integration-tests.html">
            
                    
                    Parsing and Writing JSON
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="ui-tests.html">
            
                <a href="ui-tests.html">
            
                    
                    UI Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="contract-tests.html">
            
                <a href="contract-tests.html">
            
                    
                    Contract Tests
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="consumer-test.html">
            
                <a href="consumer-test.html">
            
                    
                    Consumer Test
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="provider-test.html">
            
                <a href="provider-test.html">
            
                    
                    Provider Test
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="end-to-end-tests.html">
            
                <a href="end-to-end-tests.html">
            
                    
                    End-to-End Tests
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.9.1" data-path="ui-e2e-test.html">
            
                <a href="ui-e2e-test.html">
            
                    
                    Testing via the Web Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="rest-api-e2e-test.html">
            
                <a href="rest-api-e2e-test.html">
            
                    
                    Testing via the REST API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="acceptance-tests.html">
            
                <a href="acceptance-tests.html">
            
                    
                    Acceptance Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="exploratory-testing.html">
            
                <a href="exploratory-testing.html">
            
                    
                    Exploratory Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="avoid-test-duplication.html">
            
                <a href="avoid-test-duplication.html">
            
                    
                    Avoid Test Duplication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="conclusion.html">
            
                <a href="conclusion.html">
            
                    
                    Conclusion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="further-reading.html">
            
                <a href="further-reading.html">
            
                    
                    Further Reading
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Testing via the Web Interface</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="user-interface-end-to-end-test">User Interface End-to-End Test</h1>
<p>For end-to-end tests <a href="http://docs.seleniumhq.org/" target="_blank">Selenium</a> and the <a href="https://www.w3.org/TR/webdriver/" target="_blank">WebDriver</a> protocol are the tool of choice for many developers. With Selenium you can pick a browser you like and let it automatically call your website, click here and there, enter data and check that stuff changes in the user interface.</p>
<p>Selenium needs a browser that it can start and use for running its tests. There are multiple so-called <em>&apos;drivers&apos;</em> for different browsers that you could use. <a href="https://www.mvnrepository.com/search?q=selenium+driver" target="_blank">Pick one</a> (or multiple) and add it to your <code>build.gradle</code>. Whatever browser you choose, you need to make sure that all devs in your team and your CI server have installed the correct version of the browser locally. This can be pretty painful to keep in sync. For Java, there&apos;s a nice little library called <a href="https://github.com/bonigarcia/webdrivermanager" target="_blank">webdrivermanager</a> that can automate downloading and setting up the correct version of the browser you want to use. Add these two dependencies to your <code>build.gradle</code> and you&apos;re good to go:</p>
<pre><code>testCompile(&apos;org.seleniumhq.selenium:selenium-chrome-driver:2.53.1&apos;)
testCompile(&apos;io.github.bonigarcia:webdrivermanager:1.7.2&apos;)
</code></pre><p>Running a fully-fledged browser in your test suite can be a hassle. Especially when using continuous delivery the server running your pipeline might not be able to spin up a browser including a user interface (e.g. because there&apos;s no X-Server available). You can take a workaround for this problem by starting a virtual X-Server like <a href="https://en.wikipedia.org/wiki/Xvfb" target="_blank">xvfb</a>.</p>
<p>A more recent approach is to use a <em>headless</em> browser (i.e. a browser that doesn&apos;t have a user interface) to run your webdriver tests. Until recently <a href="http://phantomjs.org/" target="_blank">PhantomJS</a> was the leading headless browser used for browser automation. Ever since both <a href="https://developers.google.com/web/updates/2017/04/headless-chrome" target="_blank">Chromium</a> and <a href="https://developer.mozilla.org/en-US/Firefox/Headless_mode" target="_blank">Firefox</a> announced that they&apos;ve implemented a headless mode in their browsers PhantomJS all of a sudden became obsolete. After all it&apos;s better to test your website with a browser that your users actually use (like Firefox and Chrome) instead of using an artificial browser just because it&apos;s convenient for you as a developer.</p>
<p>Both, headless Firefox and Chrome, are brand new and yet to be widely adopted for implementing webdriver tests. We want to keep things simple. Instead of fiddling around to use the bleeding edge headless modes let&apos;s stick to the classic way using Selenium and a regular browser. A simple end-to-end test that fires up Chrome, navigates to our service and checks the content of the website looks like this:</p>
<pre><code class="lang-java"><span class="hljs-meta">@RunWith</span>(SpringRunner.class)
<span class="hljs-meta">@SpringBootTest</span>(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloE2ESeleniumTest</span> </span>{

    <span class="hljs-keyword">private</span> WebDriver driver;

    <span class="hljs-meta">@LocalServerPort</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> port;

    <span class="hljs-meta">@BeforeClass</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUpClass</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{
        ChromeDriverManager.getInstance().setup();
    }

    <span class="hljs-meta">@Before</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUp</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{
        driver = <span class="hljs-keyword">new</span> ChromeDriver();
    }

    <span class="hljs-meta">@After</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">tearDown</span><span class="hljs-params">()</span> </span>{
        driver.close();
    }

    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">helloPageHasTextHelloWorld</span><span class="hljs-params">()</span> </span>{
        driver.get(String.format(<span class="hljs-string">&quot;http://127.0.0.1:%s/hello&quot;</span>, port));

        assertThat(driver.findElement(By.tagName(<span class="hljs-string">&quot;body&quot;</span>)).getText(), containsString(<span class="hljs-string">&quot;Hello World!&quot;</span>));
    }
}
</code></pre>
<p>Note that this test will only run on your system if you have Chrome installed on the system you run this test on (your local machine, your CI server).</p>
<p>The test is straightforward. It spins up the entire Spring application on a random port using <code>@SpringBootTest</code>. We then instanciate a new Chrome webdriver, tell it to go navigate to the <code>/hello</code> endpoint of our microservice and check that it prints &quot;Hello World!&quot; on the browser window. Cool stuff!</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="end-to-end-tests.html" class="navigation navigation-prev " aria-label="Previous page: End-to-End Tests">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="rest-api-e2e-test.html" class="navigation navigation-next " aria-label="Next page: Testing via the REST API">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Testing via the Web Interface","level":"1.9.1","depth":2,"next":{"title":"Testing via the REST API","level":"1.9.2","depth":2,"path":"rest-api-e2e-test.md","ref":"rest-api-e2e-test.md","articles":[]},"previous":{"title":"End-to-End Tests","level":"1.9","depth":1,"path":"end-to-end-tests.md","ref":"end-to-end-tests.md","articles":[{"title":"Testing via the Web Interface","level":"1.9.1","depth":2,"path":"ui-e2e-test.md","ref":"ui-e2e-test.md","articles":[]},{"title":"Testing via the REST API","level":"1.9.2","depth":2,"path":"rest-api-e2e-test.md","ref":"rest-api-e2e-test.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Ham Vocke","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Effective Software Testing","language":"en","gitbook":"*"},"file":{"path":"ui-e2e-test.md","mtime":"2017-11-25T11:11:16.577Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-11-25T11:59:56.755Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

